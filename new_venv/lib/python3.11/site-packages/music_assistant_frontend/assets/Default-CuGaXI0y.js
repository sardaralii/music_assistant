import{_ as jt,g as Kt,V as Jt}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_42f910eb_lang-BWALXwft.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as pe,_ as Zt,f as Ie,g as ye,a as ea,b as Ae,d as ta,s as aa,i as Ne,c as mt,t as la,V as ia,e as oa,h as sa,j as it}from"./VCheckbox-_eVssUuR.js";import{e as ce,_ as We}from"./eventbus-CxBHXMjo.js";import{d as q,r as M,o as qe,a as Ye,b as h,M as Z,P as ot,c as m,e as C,w as y,f as d,u as e,$ as ge,g as I,h as P,i as J,t as k,j as V,F as D,s as t,A as na,p as ee,k as te,l as ra,m as ua,n as Ee,q as vt,v as N,x as Q,y as Oe,z as pt,B as Pe,C as yt,D as R,E as ft,G as xe,H as ht,I as da,J as Qe,K as ne,L as ca,N as _t,O as ma,Q as bt,R as va,S as pa,T as ya,U as Te,V as W,W as A,X as Re,Y as He,Z as Be,_ as F,a0 as H,a1 as ze,a2 as K,a3 as fe,a4 as me,a5 as fa,a6 as gt,a7 as ha,a8 as Me,a9 as _a,aa as st,ab as ba,ac as ga,ad as wa,ae as Pa}from"./index-CQHe9KB5.js";import{T as ka,V as Fe}from"./Toolbar-Bxz1a-Vc.js";import{V as Ue,a as ke,u as Xe}from"./VList-SeV0eskX.js";import{V as oe,m as _e,a as Ca,b as $e,u as Va,c as ae,d as wt,e as Pt,f as kt,g as Ct,h as $a,i as Vt,j as Ge,k as $t,l as It,n as St,o as Qt,p as Ia,q as Sa,r as Qa,s as Ce,t as Ta,v as Ba,M as za,w as L,x as Ma,y as Aa,z as qa}from"./VListItem-932LEcae.js";import{V as Le}from"./VCard-BBArKN8n.js";import{V as Tt}from"./VDialog-pSjwSbGd.js";import{V as Ea,a as La}from"./VInfiniteScroll-tYOoNmCo.js";import{u as Wa,m as Bt,a as zt,b as Ra,c as Ha}from"./layout-BxB_31nW.js";import{f as Fa,a as Ua,s as Da,m as Na,u as Ya,b as Oa,V as Mt,c as At}from"./VMenu-C_g4AWFG.js";import{m as xa,V as nt,a as Xa}from"./VCheckboxBtn-WpBm-DQx.js";import{V as qt,a as Ga,b as ja,c as Ka}from"./VExpansionPanels-DmXKIn9D.js";import{B as G}from"./Button-C2tPqXAJ.js";import{L as Ja}from"./ListItem-BlTvbW6N.js";import{V as Za}from"./VToolbar-AihbUtg2.js";import{V as Se,a as we}from"./VCardText-BC98CPwQ.js";import{V as el}from"./VVirtualScroll-qRehF0qb.js";const tl=j(jt,[["__scopeId","data-v-42f910eb"]]),al={class:"media-thumb"},ll={style:{"margin-left":"-10px","padding-right":"5px"}},il=q({__name:"AddToPlaylistDialog",setup(l){const i=M(!1),s=M([]),a=M([]),c=M(),o=M([]);qe(()=>{ce.on("playlistdialog",async _=>{i.value=!0,o.value=_.items,c.value=_.parentItem,await r()}),Ye(()=>{ce.off("playlistdialog")})});const r=async function(){s.value=[],a.value=[];const _=await h.getLibraryPlaylists(),p=o.value.length?o.value[0]:void 0;for(const v of _){if(!v.provider_mappings.filter($=>$.available).length||!v.is_editable||c.value&&c.value.media_type===Z.PLAYLIST&&v.item_id===c.value.item_id)continue;const b=h.providers[v.provider_mappings[0].provider_instance];b&&(b.domain=="builtin"||b.is_streaming_provider||p!=null&&p.provider_mappings.filter($=>$.provider_instance==b.instance_id).length)&&s.value.push(v)}for(const v of Object.values(h.providers))v.supported_features.includes(ot.PLAYLIST_CREATE)&&v.supported_features.includes(ot.PLAYLIST_TRACKS_EDIT)&&(v.domain=="builtin"||v.is_streaming_provider||p!=null&&p.provider_mappings.filter(b=>b.provider_instance==v.instance_id).length)&&a.value.push(v.instance_id)},u=async function(_){if(o.value[0].media_type===Z.TRACK)h.addPlaylistTracks(_.item_id,o.value.map(v=>v.uri));else if(o.value[0].media_type===Z.ALBUM){var p=await h.getAlbumTracks(o.value[0].item_id,o.value[0].provider);h.addPlaylistTracks(_.item_id,p.map(v=>v.uri))}n(),t.activeAlert={type:na.INFO,message:ge("background_task_added"),persistent:!1}},f=async function(_){const p=prompt(ge("new_playlist_name"));if(!p)return;const v=await h.createPlaylist(p,_);u(v)},n=function(){i.value=!1};return(_,p)=>(m(),C(Tt,{modelValue:i.value,"onUpdate:modelValue":[p[0]||(p[0]=v=>i.value=v),p[1]||(p[1]=v=>{e(t).dialogActive=v})],fullscreen:"",transition:"dialog-bottom-transition"},{default:y(()=>[d(Le,null,{default:y(()=>[d(ka,{icon:"mdi-playlist-plus",title:e(ge)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:n}]},null,8,["title","menu-items"]),d(Ue),p[4]||(p[4]=I("br",null,null,-1)),d(ke,null,{default:y(()=>[(m(!0),P(D,null,J(s.value,v=>(m(),P("div",{key:v.item_id},[d(oe,{onClick:b=>u(v)},{prepend:y(()=>[I("div",al,[d(pe,{item:v,size:50},null,8,["item"])])]),title:y(()=>[I("div",null,k(v.name),1)]),subtitle:y(()=>[I("div",null,k(v.owner),1)]),append:y(()=>[v.provider_mappings?(m(),C(We,{key:0,domain:v.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):V("",!0)]),_:2},1032,["onClick"])]))),128)),p[2]||(p[2]=I("div",{style:{height:"30px"}},null,-1)),d(Ue),p[3]||(p[3]=I("div",{style:{height:"30px"}},null,-1)),(m(!0),P(D,null,J(a.value,v=>(m(),P("div",{key:v},[d(oe,{onClick:b=>f(v)},{prepend:y(()=>[I("div",ll,[d(We,{domain:e(h).providers[v].domain,size:50},null,8,["domain"])])]),title:y(()=>[I("div",null,k(e(ge)("new_playlist")),1)]),subtitle:y(()=>[I("div",null,k(e(ge)("create_playlist_on",[e(h).providers[v].name])),1)]),append:y(()=>[d(We,{domain:e(h).providers[v].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),ol=j(il,[["__scopeId","data-v-a7c53a67"]]),sl=j(Zt,[["__scopeId","data-v-7db34d0b"]]),nl=ee({scrollable:Boolean,..._e(),...Ca(),...$e({tag:"main"})},"VMain"),rl=te()({name:"VMain",props:nl(),setup(l,i){let{slots:s}=i;const{dimensionStyles:a}=Va(l),{mainStyles:c}=Wa(),{ssrBootStyles:o}=Xe();return ae(()=>d(l.tag,{class:["v-main",{"v-main--scrollable":l.scrollable},l.class],style:[c.value,o.value,a.value,l.style]},{default:()=>{var r,u;return[l.scrollable?d("div",{class:"v-main__scroller"},[(r=s.default)==null?void 0:r.call(s)]):(u=s.default)==null?void 0:u.call(s)]}})),{}}}),ul=q({__name:"View",setup(l){return(i,s)=>{const a=ra("router-view");return m(),C(rl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:y(()=>{var c,o,r;return[e(t).navigationMenuStyle=="vertical"?(m(),C(tl,{key:0})):V("",!0),d(a,null,{default:y(({Component:u})=>[(m(),C(ua(u)))]),_:1}),d(ol),d(sl),d(Ea,{"model-value":e(t).activeAlert!==void 0,color:((c=e(t).activeAlert)==null?void 0:c.type)||"grey",text:(o=e(t).activeAlert)==null?void 0:o.message,"close-on-content-click":"",position:"sticky",timeout:(r=e(t).activeAlert)!=null&&r.persistent?-1:5e3,"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),dl=ee({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:l=>!l||["horizontal","shift"].includes(l)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...wt(),..._e(),...Pt(),...kt(),...Ct(),...Bt({name:"bottom-navigation"}),...$e({tag:"header"}),...$a({selectedClass:"v-btn--selected"}),...Ee()},"VBottomNavigation"),cl=te()({name:"VBottomNavigation",props:dl(),emits:{"update:active":l=>!0,"update:modelValue":l=>!0},setup(l,i){let{slots:s}=i;const{themeClasses:a}=vt(),{borderClasses:c}=Vt(l),{backgroundColorClasses:o,backgroundColorStyles:r}=Ge(N(l,"bgColor")),{densityClasses:u}=$t(l),{elevationClasses:f}=It(l),{roundedClasses:n}=St(l),{ssrBootStyles:_}=Xe(),p=Q(()=>Number(l.height)-(l.density==="comfortable"?8:0)-(l.density==="compact"?16:0)),v=Oe(l,"active",l.active),{layoutItemStyles:b}=zt({id:l.name,order:Q(()=>parseInt(l.order,10)),position:Q(()=>"bottom"),layoutSize:Q(()=>v.value?p.value:0),elementSize:p,active:v,absolute:N(l,"absolute")});return Qt(l,Ia),pt({VBtn:{baseColor:N(l,"baseColor"),color:N(l,"color"),density:N(l,"density"),stacked:Q(()=>l.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ae(()=>d(l.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":l.grow,"v-bottom-navigation--shift":l.mode==="shift"},a.value,o.value,c.value,u.value,f.value,n.value,l.class],style:[r.value,b.value,{height:Pe(p.value)},_.value,l.style]},{default:()=>[s.default&&d("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}}),je=Symbol.for("vuetify:v-tabs"),ml=ee({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...yt(Sa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),he=te()({name:"VTab",props:ml(),setup(l,i){let{slots:s,attrs:a}=i;const{textColorClasses:c,textColorStyles:o}=Qa(l,"sliderColor"),r=M(),u=M(),f=Q(()=>l.direction==="horizontal"),n=Q(()=>{var p,v;return((v=(p=r.value)==null?void 0:p.group)==null?void 0:v.isSelected.value)??!1});function _(p){var b,$;let{value:v}=p;if(v){const B=($=(b=r.value)==null?void 0:b.$el.parentElement)==null?void 0:$.querySelector(".v-tab--selected .v-tab__slider"),z=u.value;if(!B||!z)return;const le=getComputedStyle(B).color,Y=B.getBoundingClientRect(),O=z.getBoundingClientRect(),w=f.value?"x":"y",g=f.value?"X":"Y",T=f.value?"right":"bottom",E=f.value?"width":"height",x=Y[w],X=O[w],U=x>X?Y[T]-O[T]:Y[w]-O[w],re=Math.sign(U)>0?f.value?"right":"bottom":Math.sign(U)<0?f.value?"left":"top":"center",ue=(Math.abs(U)+(Math.sign(U)<0?Y[E]:O[E]))/Math.max(Y[E],O[E])||0,de=Y[E]/O[E]||0,be=1.5;Ua(z,{backgroundColor:[le,"currentcolor"],transform:[`translate${g}(${U}px) scale${g}(${de})`,`translate${g}(${U/be}px) scale${g}(${(ue-1)/be+1})`,"none"],transformOrigin:Array(3).fill(re)},{duration:225,easing:Da})}}return ae(()=>{const p=Ce.filterProps(l);return d(Ce,R({symbol:je,ref:r,class:["v-tab",l.class],style:l.style,tabindex:n.value?0:-1,role:"tab","aria-selected":String(n.value),active:!1},p,a,{block:l.fixed,maxWidth:l.fixed?300:void 0,"onGroup:selected":_}),{...s,default:()=>{var v;return d(D,null,[((v=s.default)==null?void 0:v.call(s))??l.text,!l.hideSlider&&d("div",{ref:u,class:["v-tab__slider",c.value],style:o.value},null)])}})}),Fa({},r)}}),vl=l=>{const{touchstartX:i,touchendX:s,touchstartY:a,touchendY:c}=l,o=.5,r=16;l.offsetX=s-i,l.offsetY=c-a,Math.abs(l.offsetY)<o*Math.abs(l.offsetX)&&(l.left&&s<i-r&&l.left(l),l.right&&s>i+r&&l.right(l)),Math.abs(l.offsetX)<o*Math.abs(l.offsetY)&&(l.up&&c<a-r&&l.up(l),l.down&&c>a+r&&l.down(l))};function pl(l,i){var a;const s=l.changedTouches[0];i.touchstartX=s.clientX,i.touchstartY=s.clientY,(a=i.start)==null||a.call(i,{originalEvent:l,...i})}function yl(l,i){var a;const s=l.changedTouches[0];i.touchendX=s.clientX,i.touchendY=s.clientY,(a=i.end)==null||a.call(i,{originalEvent:l,...i}),vl(i)}function fl(l,i){var a;const s=l.changedTouches[0];i.touchmoveX=s.clientX,i.touchmoveY=s.clientY,(a=i.move)==null||a.call(i,{originalEvent:l,...i})}function hl(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:l.left,right:l.right,up:l.up,down:l.down,start:l.start,move:l.move,end:l.end};return{touchstart:s=>pl(s,i),touchend:s=>yl(s,i),touchmove:s=>fl(s,i)}}function _l(l,i){var u;const s=i.value,a=s!=null&&s.parent?l.parentElement:l,c=(s==null?void 0:s.options)??{passive:!0},o=(u=i.instance)==null?void 0:u.$.uid;if(!a||!o)return;const r=hl(i.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[o]=r,ft(r).forEach(f=>{a.addEventListener(f,r[f],c)})}function bl(l,i){var o,r;const s=(o=i.value)!=null&&o.parent?l.parentElement:l,a=(r=i.instance)==null?void 0:r.$.uid;if(!(s!=null&&s._touchHandlers)||!a)return;const c=s._touchHandlers[a];ft(c).forEach(u=>{s.removeEventListener(u,c[u])}),delete s._touchHandlers[a]}const Et={mounted:_l,unmounted:bl},Lt=Symbol.for("vuetify:v-window"),Wt=Symbol.for("vuetify:v-window-group"),Rt=ee({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||l==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},..._e(),...$e(),...Ee()},"VWindow"),rt=te()({name:"VWindow",directives:{Touch:Et},props:Rt(),emits:{"update:modelValue":l=>!0},setup(l,i){let{slots:s}=i;const{themeClasses:a}=xe(l),{isRtl:c}=ht(),{t:o}=da(),r=Qt(l,Wt),u=M(),f=Q(()=>c.value?!l.reverse:l.reverse),n=Qe(!1),_=Q(()=>{const w=l.direction==="vertical"?"y":"x",T=(f.value?!n.value:n.value)?"-reverse":"";return`v-window-${w}${T}-transition`}),p=Qe(0),v=M(void 0),b=Q(()=>r.items.value.findIndex(w=>r.selected.value.includes(w.id)));ne(b,(w,g)=>{const T=r.items.value.length,E=T-1;T<=2?n.value=w<g:w===E&&g===0?n.value=!0:w===0&&g===E?n.value=!1:n.value=w<g}),ca(Lt,{transition:_,isReversed:n,transitionCount:p,transitionHeight:v,rootRef:u});const $=Q(()=>l.continuous||b.value!==0),B=Q(()=>l.continuous||b.value!==r.items.value.length-1);function z(){$.value&&r.prev()}function le(){B.value&&r.next()}const Y=Q(()=>{const w=[],g={icon:c.value?l.nextIcon:l.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:r.prev,"aria-label":o("$vuetify.carousel.prev")};w.push($.value?s.prev?s.prev({props:g}):d(Ce,g,null):d("div",null,null));const T={icon:c.value?l.prevIcon:l.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:r.next,"aria-label":o("$vuetify.carousel.next")};return w.push(B.value?s.next?s.next({props:T}):d(Ce,T,null):d("div",null,null)),w}),O=Q(()=>l.touch===!1?l.touch:{...{left:()=>{f.value?z():le()},right:()=>{f.value?le():z()},start:g=>{let{originalEvent:T}=g;T.stopPropagation()}},...l.touch===!0?{}:l.touch});return ae(()=>_t(d(l.tag,{ref:u,class:["v-window",{"v-window--show-arrows-on-hover":l.showArrows==="hover"},a.value,l.class],style:l.style},{default:()=>{var w,g;return[d("div",{class:"v-window__container",style:{height:v.value}},[(w=s.default)==null?void 0:w.call(s,{group:r}),l.showArrows!==!1&&d("div",{class:"v-window__controls"},[Y.value])]),(g=s.additional)==null?void 0:g.call(s,{group:r})]}}),[[ma("touch"),O.value]])),{group:r}}}),gl=ee({...yt(Rt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),wl=te()({name:"VTabsWindow",props:gl(),emits:{"update:modelValue":l=>!0},setup(l,i){let{slots:s}=i;const a=bt(je,null),c=Oe(l,"modelValue"),o=Q({get(){var r;return c.value!=null||!a?c.value:(r=a.items.value.find(u=>a.selected.value.includes(u.id)))==null?void 0:r.value},set(r){c.value=r}});return ae(()=>{const r=rt.filterProps(l);return d(rt,R({_as:"VTabsWindow"},r,{modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,class:["v-tabs-window",l.class],style:l.style,mandatory:!1,touch:!1}),s)}),{}}}),Ht=ee({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},..._e(),...Ta(),...Na()},"VWindowItem"),ut=te()({name:"VWindowItem",directives:{Touch:Et},props:Ht(),emits:{"group:selected":l=>!0},setup(l,i){let{slots:s}=i;const a=bt(Lt),c=Ba(l,Wt),{isBooted:o}=Xe();if(!a||!c)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=Qe(!1),u=Q(()=>o.value&&(a.isReversed.value?l.reverseTransition!==!1:l.transition!==!1));function f(){!r.value||!a||(r.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function n(){var $;r.value||!a||(r.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=Pe(($=a.rootRef.value)==null?void 0:$.clientHeight)),a.transitionCount.value+=1)}function _(){f()}function p($){r.value&&pa(()=>{!u.value||!r.value||!a||(a.transitionHeight.value=Pe($.clientHeight))})}const v=Q(()=>{const $=a.isReversed.value?l.reverseTransition:l.transition;return u.value?{name:typeof $!="string"?a.transition.value:$,onBeforeEnter:n,onAfterEnter:f,onEnterCancelled:_,onBeforeLeave:n,onAfterLeave:f,onLeaveCancelled:_,onEnter:p}:!1}),{hasContent:b}=Ya(l,c.isSelected);return ae(()=>d(za,{transition:v.value,disabled:!o.value},{default:()=>{var $;return[_t(d("div",{class:["v-window-item",c.selectedClass.value,l.class],style:l.style},[b.value&&(($=s.default)==null?void 0:$.call(s))]),[[va,c.isSelected.value]])]}})),{groupItem:c}}}),Pl=ee({...Ht()},"VTabsWindowItem"),kl=te()({name:"VTabsWindowItem",props:Pl(),setup(l,i){let{slots:s}=i;return ae(()=>{const a=ut.filterProps(l);return d(ut,R({_as:"VTabsWindowItem"},a,{class:["v-tabs-window-item",l.class],style:l.style}),s)}),{}}});function Cl(l){return l?l.map(i=>ya(i)?i:{text:i,value:i}):[]}const Vl=ee({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...xa({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Pt(),...$e()},"VTabs"),De=te()({name:"VTabs",props:Vl(),emits:{"update:modelValue":l=>!0},setup(l,i){let{attrs:s,slots:a}=i;const c=Oe(l,"modelValue"),o=Q(()=>Cl(l.items)),{densityClasses:r}=$t(l),{backgroundColorClasses:u,backgroundColorStyles:f}=Ge(N(l,"bgColor")),{scopeId:n}=Oa();return pt({VTab:{color:N(l,"color"),direction:N(l,"direction"),stacked:N(l,"stacked"),fixed:N(l,"fixedTabs"),sliderColor:N(l,"sliderColor"),hideSlider:N(l,"hideSlider")}}),ae(()=>{const _=nt.filterProps(l),p=!!(a.window||l.items.length>0);return d(D,null,[d(nt,R(_,{modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,class:["v-tabs",`v-tabs--${l.direction}`,`v-tabs--align-tabs-${l.alignTabs}`,{"v-tabs--fixed-tabs":l.fixedTabs,"v-tabs--grow":l.grow,"v-tabs--stacked":l.stacked},r.value,u.value,l.class],style:[{"--v-tabs-height":Pe(l.height)},f.value,l.style],role:"tablist",symbol:je},n,s),{default:()=>{var v;return[((v=a.default)==null?void 0:v.call(a))??o.value.map(b=>{var $;return(($=a.tab)==null?void 0:$.call(a,{item:b}))??d(he,R(b,{key:b.text,value:b.value}),{default:a[`tab.${b.value}`]?()=>{var B;return(B=a[`tab.${b.value}`])==null?void 0:B.call(a,{item:b})}:void 0})})]}}),p&&d(wl,R({modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,key:"tabs-window"},n),{default:()=>{var v;return[o.value.map(b=>{var $;return(($=a.item)==null?void 0:$.call(a,{item:b}))??d(kl,{value:b.value},{default:()=>{var B;return(B=a[`item.${b.value}`])==null?void 0:B.call(a,{item:b})}})}),(v=a.window)==null?void 0:v.call(a)]}})])}),{}}}),$l={class:"menuButton"},Il={class:"menuButton"},Sl={class:"menuButton"},Ql=q({__name:"BottomNavigation",props:{height:{}},setup(l){const i=Kt(),s=Q(()=>{for(const a of i)if(Te.currentRoute.value.path.startsWith(a.path))return!W("tablet")&&a.isLibraryNode?"library":a.label;return""});return(a,c)=>(m(),C(cl,{height:a.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:y(()=>[e(W)("tablet")?(m(),C(De,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent","center-active":""},{default:y(()=>[(m(!0),P(D,null,J(e(i),o=>(m(),C(he,{key:o.label,to:o.path,value:o.label},{default:y(()=>[d(L,{size:"xx-large"},{default:y(()=>[A(k(o.icon),1)]),_:2},1024),I("span",$l,k(a.$t(o.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(m(),C(De,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent"},{default:y(()=>[(m(!0),P(D,null,J(e(i).filter(o=>!o.isLibraryNode),o=>(m(),C(he,{key:o.label,to:o.path,value:o.label},{default:y(()=>[d(L,{size:"xx-large"},{default:y(()=>[A(k(o.icon),1)]),_:2},1024),I("span",Il,k(a.$t(o.label)),1)]),_:2},1032,["to","value"]))),128)),d(Mt,null,{activator:y(({props:o})=>[d(he,R({key:"library"},o,{value:"library"}),{default:y(()=>[d(L,{size:"xx-large"},{default:y(()=>c[0]||(c[0]=[A("mdi-bookshelf")])),_:1}),I("span",Sl,k(a.$t("library")),1)]),_:2},1040)]),default:y(()=>[d(ke,null,{default:y(()=>[(m(!0),P(D,null,J(e(i).filter(o=>o.isLibraryNode),o=>(m(),C(oe,{key:o.label,title:a.$t(o.label),"prepend-icon":o.icon,to:o.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}}),Tl={style:{width:"auto"}},Bl={key:0,style:{width:"100%"}},zl={key:0,class:"time-text-row"},Ml={class:"text-caption time-text-right"},Al=q({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(l){const i=M(!1),s=M(!0),a=M(!1),c=M(0),o=M(0),r=Q(()=>t.curQueueItem?i.value?`-${Ie(t.curQueueItem.duration-f.value)}`:`${Ie(f.value)}`:"0:00"),u=Q(()=>{var b;if(!t.curQueueItem||!t.curQueueItem.duration||((b=t.curQueueItem.media_item)==null?void 0:b.media_type)==Z.RADIO)return"";const v=t.curQueueItem.duration;return Ie(v)}),f=Q(()=>a.value?(o.value=c.value,c.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ne(f,v=>{a.value||(c.value=v)});const n=function(){a.value=!0},_=()=>{a.value=!1,p(o.value)},p=v=>{var b;a.value||h.queueCommandSeek(((b=t.activePlayerQueue)==null?void 0:b.queue_id)||"",Math.round(v))};return(v,b)=>{var $;return m(),P("div",Tl,[e(t).activePlayerQueue?(m(),P("div",Bl,[d(qt,{modelValue:c.value,"onUpdate:modelValue":b[0]||(b[0]=B=>c.value=B),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||(($=e(t).curQueueItem.media_item)==null?void 0:$.media_type)!=e(Z).TRACK,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,onTouchstart:b[1]||(b[1]=B=>s.value=!1),onTouchend:b[2]||(b[2]=B=>s.value=!0),onMouseenter:b[3]||(b[3]=B=>s.value=!1),onMouseleave:b[4]||(b[4]=B=>s.value=!0),onStart:n,onEnd:_},null,8,["modelValue","disabled","max","thumb-size"]),v.showLabels?(m(),P("div",zl,[I("div",{class:"text-caption time-text-left",onClick:b[5]||(b[5]=B=>i.value?i.value=!1:i.value=!0)},k(r.value),1),I("div",Ml,k(u.value),1)])):V("",!0)])):V("",!0)])}}}),Ft=j(Al,[["__scopeId","data-v-d86a08db"]]),ql=q({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["clicked"],setup(l,{emit:i}){const s=()=>{if(a.value){const o=a.value.offsetWidth,r=a.value.offsetHeight,u=Math.min(o,r);c.value.$el.style.fontSize=`${u}px`}},a=M(),c=M();return qe(()=>{s(),window.addEventListener("resize",s)}),Ye(()=>{window.removeEventListener("resize",s)}),(o,r)=>(m(),P("div",{ref_key:"responsiveIconHolder",ref:a,class:Be([o.type=="btn"&&!o.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:F({width:o.staticWidth?o.staticWidth:o.width,height:o.staticWidth?o.staticWidth:o.height,maxHeight:o.staticHeight?o.staticHeight:o.maxHeight,maxWidth:o.staticWidth?o.staticWidth:o.maxWidth,minHeight:o.staticHeight?o.staticHeight:o.minHeight,minWidth:o.staticWidth?o.staticWidth:o.minWidth}),onClick:r[0]||(r[0]=u=>o.disabled?u.preventDefault():o.$emit("clicked"))},[d(Fe,{"model-value":o.badge==!0,color:"error",dot:""},{default:y(()=>[o.type==="icon"?(m(),C(L,{key:0,ref_key:"responsiveIcon",ref:c,class:"responsive-icon",color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},Re({_:2},[J(o.$slots,(u,f)=>({name:f,fn:y(()=>[He(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):o.type==="btn"?(m(),C(L,{key:1,ref_key:"responsiveIcon",ref:c,class:"responsive-icon",style:{cursor:"pointer"},color:o.color?o.color:"",icon:o.icon?o.icon:"mdi-check",width:o.staticWidth?o.staticWidth:null,height:o.staticHeight?o.staticHeight:null,disabled:o.disabled},Re({_:2},[J(o.$slots,(u,f)=>({name:f,fn:y(()=>[He(o.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):V("",!0)]),_:3},8,["model-value"])],6))}}),se=j(ql,[["__scopeId","data-v-3feb3c4b"]]),Ut=q({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(i,s)=>{var a,c,o,r,u,f,n,_;return i.isVisible?(m(),C(se,R({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!e(t).activePlayerQueue.active||e(t).activePlayerQueue.items==0,color:e(ye)((a=i.icon)==null?void 0:a.color,[[((c=e(t).activePlayerQueue)==null?void 0:c.repeat_mode)==e(H).OFF,null],[((o=e(t).activePlayerQueue)==null?void 0:o.repeat_mode)==e(H).ALL,"primary"],[((r=e(t).activePlayerQueue)==null?void 0:r.repeat_mode)==e(H).ONE,"primary"]]),icon:e(ye)((u=i.icon)==null?void 0:u.icon,[[((f=e(t).activePlayerQueue)==null?void 0:f.repeat_mode)==e(H).OFF,"mdi-repeat-off"],[((n=e(t).activePlayerQueue)==null?void 0:n.repeat_mode)==e(H).ALL,"mdi-repeat"],[((_=e(t).activePlayerQueue)==null?void 0:_.repeat_mode)==e(H).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClicked:s[0]||(s[0]=p=>{var v,b,$,B;return e(h).queueCommandRepeat(((v=e(t).activePlayerQueue)==null?void 0:v.queue_id)||"",e(ye)(null,[[((b=e(t).activePlayerQueue)==null?void 0:b.repeat_mode)==e(H).OFF,e(H).ONE],[(($=e(t).activePlayerQueue)==null?void 0:$.repeat_mode)==e(H).ALL,e(H).OFF],[((B=e(t).activePlayerQueue)==null?void 0:B.repeat_mode)==e(H).ONE,e(H).ALL]]))})}),null,16,["disabled","color","icon"])):V("",!0)}}}),Dt=q({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(i,s)=>{var a,c,o,r,u,f,n;return i.isVisible?(m(),C(se,R({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((a=e(t).activePlayerQueue)!=null&&a.active)||((c=e(t).activePlayerQueue)==null?void 0:c.items)==0,color:e(ye)((o=i.icon)==null?void 0:o.color,[[(r=e(t).activePlayerQueue)==null?void 0:r.shuffle_enabled,"primary",""]]),icon:e(ye)((u=i.icon)==null?void 0:u.icon,[[(f=e(t).activePlayerQueue)==null?void 0:f.shuffle_enabled,"mdi-shuffle"],[((n=e(t).activePlayerQueue)==null?void 0:n.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClicked:s[0]||(s[0]=_=>{var p,v;return e(h).queueCommandShuffle(((p=e(t).activePlayerQueue)==null?void 0:p.queue_id)||"",!((v=e(t).activePlayerQueue)!=null&&v.shuffle_enabled))})}),null,16,["disabled","color","icon"])):V("",!0)}}}),Nt=q({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(i,s)=>{var a,c,o,r;return i.isVisible&&((a=e(t).activePlayerQueue)!=null&&a.active)?(m(),C(se,R({key:0},i.icon,{disabled:e(t).activePlayerQueue.items==0,icon:((c=e(t).activePlayerQueue)==null?void 0:c.state)=="playing"?i.withCircle?"mdi-pause-circle":"mdi-pause":i.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClicked:s[0]||(s[0]=u=>e(h).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):i.isVisible&&((o=e(t).activePlayer)==null?void 0:o.state)==e(ze).PLAYING?(m(),C(se,R({key:1},i.icon,{icon:"mdi-stop",type:"btn",onClick:s[1]||(s[1]=u=>e(h).queueCommandStop(e(t).activePlayer.player_id))}),null,16)):i.isVisible?(m(),C(se,R({key:2},i.icon,{disabled:!e(t).activePlayerId||!((r=e(t).activePlayer)!=null&&r.active_source),icon:i.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClicked:s[2]||(s[2]=u=>e(h).playerCommandPlay(e(t).activePlayerId))}),null,16,["disabled","icon"])):V("",!0)}}}),Yt=q({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(i,s)=>{var a,c;return i.isVisible?(m(),C(se,R({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((a=e(t).activePlayerQueue)!=null&&a.active)||((c=e(t).activePlayerQueue)==null?void 0:c.items)<=1,icon:"mdi-skip-previous-outline",type:"btn",onClicked:s[0]||(s[0]=o=>e(h).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):V("",!0)}}}),Ot=q({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){return(i,s)=>{var a,c;return i.isVisible?(m(),C(se,R({key:0},i.icon,{disabled:!e(t).activePlayerQueue||!((a=e(t).activePlayerQueue)!=null&&a.active)||((c=e(t).activePlayerQueue)==null?void 0:c.items)<=1,icon:"mdi-skip-next-outline",type:"btn",onClicked:s[0]||(s[0]=o=>e(h).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):V("",!0)}}}),El={key:0,class:"player-controls"},Ll={key:0,class:"player-controls-elements"},Wl={key:1,class:"player-controls-elements"},Rl={key:2},Hl={key:3,class:"player-controls-elements"},Fl={key:4,class:"player-controls-elements"},dt=q({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(l){return(i,s)=>{var a,c,o,r,u;return i.visibleComponents?(m(),P("div",El,[i.visibleComponents&&((a=i.visibleComponents.shuffle)!=null&&a.isVisible)?(m(),P("div",Ll,[d(Dt,{class:"media-controls-item",icon:i.visibleComponents.shuffle.icon},null,8,["icon"])])):V("",!0),i.visibleComponents&&((c=i.visibleComponents.previous)!=null&&c.isVisible)?(m(),P("div",Wl,[d(Yt,{class:"media-controls-item",icon:i.visibleComponents.previous.icon},null,8,["icon"])])):V("",!0),i.visibleComponents&&((o=i.visibleComponents.play)!=null&&o.isVisible)?(m(),P("div",Rl,[d(Nt,{class:"media-controls-item","with-circle":i.visibleComponents.play.withCircle,icon:i.visibleComponents.play.icon},null,8,["with-circle","icon"])])):V("",!0),i.visibleComponents&&((r=i.visibleComponents.next)!=null&&r.isVisible)?(m(),P("div",Hl,[d(Ot,{icon:i.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):V("",!0),i.visibleComponents&&((u=i.visibleComponents.repeat)!=null&&u.isVisible)?(m(),P("div",Fl,[d(Ut,{icon:i.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):V("",!0)])):V("",!0)}}}),Ul={props:{width:String,height:String,style:String,isPowered:Boolean,allowWheel:Boolean},emits:["update:model-value"],setup(l,i){const s=M(!0),a=Q(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,style:`width: ${l.width}; height:${l.height}; display: inline-grid; ${l.style}`,disabled:!l.isPowered})),c=Q(()=>({...a.value,...i}));return{isThumbHidden:s,playerVolumeProps:c,onWheel:({deltaY:r})=>{if(!l.allowWheel)return;const u=c.value.step,f=i.attrs["model-value"],n=r<0?u:-u;i.emit("update:model-value",f+n)}}}};function Dl(l,i,s,a,c,o){return m(),C(qt,R(a.playerVolumeProps,{onTouchstart:i[0]||(i[0]=r=>a.isThumbHidden=!1),onTouchend:i[1]||(i[1]=r=>a.isThumbHidden=!0),onMouseenter:i[2]||(i[2]=r=>a.isThumbHidden=!1),onMouseleave:i[3]||(i[3]=r=>a.isThumbHidden=!0),onWheel:K(a.onWheel,["prevent"]),onEnd:i[4]||(i[4]=r=>l.$emit("update:model-value",r))}),Re({_:2},[J(l.$slots,(r,u)=>({name:u,fn:y(()=>[He(l.$slots,u,{},void 0,!0)])}))]),1040,["onWheel"])}const Ve=j(Ul,[["render",Dl],["__scopeId","data-v-dce2c4f7"]]),xt=q({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const i=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(s,a)=>{var c;return s.isVisible?(m(),C(se,R({key:0},s.icon,{disabled:!e(t).activePlayerId,icon:"mdi-playlist-play",color:e(ye)((c=s.icon)==null?void 0:c.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClicked:i}),null,16,["disabled","color"])):V("",!0)}}}),Xt=(l,i)=>{const s=[{label:l.powered?"power_off_player":"power_on_player",labelArgs:[],action:()=>{h.playerCommandPowerToggle(l.player_id)},icon:"mdi-power"}];return l.supported_features.includes(fe.SYNC)&&!l.synced_to&&l.type==me.PLAYER&&l.group_childs.length==0&&s.push({label:"sync_player_with",labelArgs:[],icon:"mdi-link-variant",subItems:Object.values(h.players).filter(a=>a.player_id!=l.player_id&&a.available&&a.enabled&&a.provider==l.provider&&a.type==me.PLAYER&&a.group_childs.length==0&&a.supported_features.includes(fe.SYNC)&&!a.synced_to).map(a=>({label:a.display_name,labelArgs:[],action:()=>{h.playerCommandSync(l.player_id,a.player_id)}})).sort((a,c)=>{var o;return a.label.toUpperCase()>((o=c.label)==null?void 0:o.toUpperCase())?1:-1})}),i&&s.push({label:i.shuffle_enabled?"shuffle_disable":"shuffle_enable",labelArgs:[],action:()=>{h.queueCommandShuffleToggle(i.queue_id)},icon:i.shuffle_enabled?"mdi-shuffle-disabled":"mdi-shuffle"}),i&&s.push({label:"select_repeat_mode",labelArgs:[],subItems:[{label:"repeat_mode.off",labelArgs:[],action:()=>{h.queueCommandRepeat(i.queue_id,H.OFF)},selected:i.repeat_mode==H.OFF},{label:"repeat_mode.all",labelArgs:[],action:()=>{h.queueCommandRepeat(i.queue_id,H.ALL)},selected:i.repeat_mode==H.ALL},{label:"repeat_mode.one",labelArgs:[],action:()=>{h.queueCommandRepeat(i.queue_id,H.ONE)},selected:i.repeat_mode==H.ONE}],icon:"mdi-repeat"}),i!=null&&i.items&&s.push({label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(h.players).filter(a=>a.player_id!=i.queue_id&&a.player_id!=l.player_id&&a.available&&a.enabled&&!a.synced_to).map(a=>({label:a.display_name,labelArgs:[],action:()=>{h.queueCommandTransfer(i.queue_id,a.player_id),t.activePlayerId=a.player_id}})).sort((a,c)=>{var o;return a.label.toUpperCase()>((o=c.label)==null?void 0:o.toUpperCase())?1:-1})}),i!=null&&i.items&&s.push({label:"queue_clear",labelArgs:[],action:()=>{h.queueCommandClear(i.queue_id)},icon:"mdi-cancel"}),i&&"dont_stop_the_music_enabled"in i&&s.push({label:i.dont_stop_the_music_enabled?"dont_stop_the_music_disable":"dont_stop_the_music_enable",labelArgs:[],action:()=>{h.queueCommandDontStopTheMusicToggle(i.queue_id)},icon:"mdi-all-inclusive"}),s.push({label:"open_player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,t.showPlayersMenu=!1,Te.push(`/settings/editplayer/${l.player_id}`)},icon:"mdi-cog-outline"}),s},Nl={class:"main"},Yl={key:0,class:"main-media-details"},Ol={key:0,class:"main-media-details-image"},xl={class:"main-media-details-track-info"},Xl={key:0},Gl={style:{margin:"auto","padding-top":"20px"}},jl={key:1,class:"main-queue-items"},Kl={class:"queue-items-scroll-box"},Jl={class:"media-thumb listitem-media-thumb"},Zl={key:0},ei={key:2,class:"main-queue-items"},ti={class:"main-media-details-image main-media-details-image-alt"},ai={class:"player-bottom"},li={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},ii={class:"media-controls"},oi={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},si={key:0,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},ni=q({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(l){fa();const{name:i}=gt(),s=l,a=M([]),c=M(""),o=M(0),r=M(!1),u=Q(()=>t.activePlayerQueue?a.value.slice(t.activePlayerQueue.current_index):[]),f=Q(()=>t.activePlayerQueue?a.value.slice(0,t.activePlayerQueue.current_index):[]),n=Q(()=>{switch(i.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),_=Q(()=>{switch(i.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),p=function(w){t.showFullscreenPlayer=!1,Te.push({name:w.media_type,params:{itemId:w.item_id,provider:w.provider}})},v=function(w){t.globalSearchTerm=w,Te.push({name:"search"}),t.showFullscreenPlayer=!1},b=function(w,g){var x,X,U,re,ve,ue,de;const T=a.value.indexOf(g),E=[{label:"play_now",labelArgs:[],action:()=>{B(g,"play_now")},icon:"mdi-play-circle-outline",disabled:T===((x=t.activePlayerQueue)==null?void 0:x.current_index)||T===((X=t.activePlayerQueue)==null?void 0:X.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{B(g,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:T<=(((U=t.activePlayerQueue)==null?void 0:U.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{B(g,"up")},icon:"mdi-arrow-up",disabled:T<=(((re=t.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{B(g,"down")},icon:"mdi-arrow-down",disabled:T<=(((ve=t.activePlayerQueue)==null?void 0:ve.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{B(g,"delete")},icon:"mdi-delete",disabled:T<=(((ue=t.activePlayerQueue)==null?void 0:ue.index_in_buffer)||0)}];((de=g==null?void 0:g.media_item)==null?void 0:de.media_type)==Z.TRACK&&E.push({label:"show_info",labelArgs:[],action:()=>{p(g.media_item)},icon:"mdi-information-outline",disabled:!1}),ce.emit("contextmenu",{items:E,posX:w.clientX,posY:w.clientY})},$=function(w){t.activePlayer&&ce.emit("contextmenu",{items:Xt(t.activePlayer,t.activePlayerQueue),posX:w.clientX,posY:w.clientY})},B=function(w,g){var T,E,x,X,U;!w||!t.activePlayerQueue||(g=="play_now"?h.queueCommandPlayIndex((T=t.activePlayerQueue)==null?void 0:T.queue_id,w.queue_item_id):g=="move_next"?h.queueCommandMoveNext((E=t.activePlayerQueue)==null?void 0:E.queue_id,w.queue_item_id):g=="up"?h.queueCommandMoveUp((x=t.activePlayerQueue)==null?void 0:x.queue_id,w.queue_item_id):g=="down"?h.queueCommandMoveDown((X=t.activePlayerQueue)==null?void 0:X.queue_id,w.queue_item_id):g=="delete"&&h.queueCommandDelete((U=t.activePlayerQueue)==null?void 0:U.queue_id,w.queue_item_id))},z=async function(w=!1){if(r.value=!0,w&&(a.value=[]),t.activePlayerQueue){const g=a.value.length,T=(t.activePlayerQueue.current_index||0)+50,E=await h.getPlayerQueueItems(t.activePlayerQueue.queue_id,T,g);a.value.push(...E)}r.value=!1},le=function({done:w}){var g;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){w("empty");return}if(a.value.length>=((g=t.activePlayerQueue)==null?void 0:g.items)){w("empty");return}z(!1).then(()=>{w("ok")})};qe(()=>{const w=h.subscribe(ha.QUEUE_ITEMS_UPDATED,g=>{var T;g.object_id==((T=t.activePlayerQueue)==null?void 0:T.queue_id)&&z(!0)});Ye(w)});const Y=function(w){var T;if(!((T=t.curQueueItem)!=null&&T.media_item))return;if(!t.curQueueItem.media_item.favorite){h.toggleFavorite(t.curQueueItem.media_item);return}const g=[{label:"favorites_remove",labelArgs:[],action:()=>{h.toggleFavorite(t.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];ce.emit("contextmenu",{items:g,posX:w.clientX,posY:w.clientY})},O=function(){r.value=!0,aa(100).then(()=>{r.value=!1})};return ne(()=>t.activePlayerId,w=>{z(!0)},{immediate:!0}),ne(()=>s.colorPalette,w=>{!w.darkColor||!w.lightColor?c.value=Me.theme.current.value.dark?"#000":"#fff":c.value=Me.theme.current.value.dark?w.darkColor:w.lightColor}),(w,g)=>(m(),C(Tt,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":g[13]||(g[13]=T=>e(t).showFullscreenPlayer=T),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:y(()=>[d(Le,{color:e(ta)(c.value,70,80)},{default:y(()=>{var T,E,x,X,U,re,ve,ue,de,be,Ke,Je,Ze,et,tt,at,lt;return[d(Za,{class:"v-toolbar-default",color:"transparent"},{prepend:y(()=>[d(G,{icon:"",onClick:g[0]||(g[0]=S=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[d(L,{icon:"mdi-chevron-down"})]),_:1})]),append:y(()=>[d(G,{icon:"",onClick:g[1]||(g[1]=S=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[d(L,{icon:"mdi-dots-vertical",onClick:K($,["stop"])})]),_:1})]),_:1}),I("div",Nl,[e(W)("bp7")||!e(t).showQueueItems?(m(),P("div",Yl,[w.$vuetify.display.height>600?(m(),P("div",Ol,[d(pe,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])):V("",!0),I("div",xl,[(T=e(t).curQueueItem)!=null&&T.media_item?(m(),C(Se,{key:0,style:F(`font-size: ${n.value};cursor:pointer;`),onClick:g[2]||(g[2]=S=>p(e(t).curQueueItem.media_item))},{default:y(()=>[A(k(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(m(),P("span",Xl,"("+k(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)]),_:1},8,["style"])):(E=e(t).activePlayerQueue)!=null&&E.display_name||(x=e(t).activePlayer)!=null&&x.display_name?(m(),C(Se,{key:1,style:F(`font-size: ${n.value};cursor:pointer;`),onClick:g[3]||(g[3]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S,ie;return[A(k(((S=e(t).activePlayerQueue)==null?void 0:S.display_name)||((ie=e(t).activePlayer)==null?void 0:ie.display_name)),1)]}),_:1},8,["style"])):(m(),C(Se,{key:2,style:F(`font-size: ${n.value};cursor:pointer;`),onClick:g[4]||(g[4]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S;return[A(k(((S=e(t).activePlayer)==null?void 0:S.display_name)||w.$t("no_player")),1)]}),_:1},8,["style"])),((U=(X=e(t).curQueueItem)==null?void 0:X.media_item)==null?void 0:U.media_type)==e(Z).RADIO&&((ve=(re=e(t).curQueueItem)==null?void 0:re.streamdetails)!=null&&ve.stream_title)?(m(),C(we,{key:3,class:"text-h6 text-md-h5 text-lg-h4",onClick:g[5]||(g[5]=S=>v(e(t).curQueueItem.streamdetails.stream_title))},{default:y(()=>[A(k(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):V("",!0),(ue=e(t).curQueueItem)!=null&&ue.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(m(),C(we,{key:4,style:F(`font-size: ${_.value};cursor:pointer;`),onClick:g[6]||(g[6]=S=>p(e(t).curQueueItem.media_item.album))},{default:y(()=>[A(k(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):V("",!0),(de=e(t).curQueueItem)!=null&&de.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(m(),C(we,{key:5,style:F(`font-size: ${_.value};cursor:pointer;`),onClick:g[7]||(g[7]=S=>p(e(t).curQueueItem.media_item.artists[0]))},{default:y(()=>[A(k(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):V("",!0),((be=e(t).activePlayer)==null?void 0:be.active_source)!=((Ke=e(t).activePlayer)==null?void 0:Ke.player_id)?(m(),C(we,{key:6,style:F(`font-size: ${_.value}`)},{default:y(()=>{var S;return[A(k(w.$t("external_source_active",[(S=e(t).activePlayer)==null?void 0:S.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(m(),C(we,{key:7,style:F(`font-size: ${_.value}`)},{default:y(()=>[A(k(w.$t("queue_empty")),1)]),_:1},8,["style"])):V("",!0),I("div",Gl,[d(ea)])])])):V("",!0),e(t).showQueueItems?(m(),P("div",jl,[d(De,{modelValue:o.value,"onUpdate:modelValue":g[8]||(g[8]=S=>o.value=S),"hide-slider":"",density:"compact",onClick:O},{default:y(()=>[d(he,{value:0},{default:y(()=>{var S,ie;return[A(k(w.$t("queue"))+" ",1),d(Fe,{color:"grey",content:(((S=e(t).activePlayerQueue)==null?void 0:S.items)||0)-(((ie=e(t).activePlayerQueue)==null?void 0:ie.current_index)||0),inline:""},null,8,["content"])]}),_:1}),d(he,{value:1},{default:y(()=>{var S;return[A(k(w.$t("played"))+" ",1),d(Fe,{color:"grey",content:(S=e(t).activePlayerQueue)==null?void 0:S.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),I("div",Kl,[r.value?V("",!0):(m(),C(La,{key:0,onLoad:le,"empty-text":"",height:"100%"},{default:y(()=>[d(el,{"item-height":70,"max-height":"90%",items:o.value==0?u.value:f.value},{default:y(({item:S})=>[d(Ja,{link:"","show-menu-btn":!0,onClick:K(ie=>b(ie,S),["stop"]),onMenu:K(ie=>b(ie,S),["stop"])},{prepend:y(()=>[I("div",Jl,[d(pe,{size:"50",item:S},null,8,["item"])])]),title:y(()=>[A(k(S.name),1)]),subtitle:y(()=>[A(k(e(Ie)(S.duration))+" ",1),S.media_item&&"album"in S.media_item&&S.media_item.album?(m(),P("span",Zl," | "+k(S.media_item.album.name),1)):V("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1}))])])):V("",!0),!e(t).showQueueItems&&w.$vuetify.display.height<=600?(m(),P("div",ei,[I("div",ti,[d(pe,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):V("",!0)]),I("div",ai,[I("div",li,[d(Ft,{"show-labels":!0})]),I("div",ii,[d(se,{disabled:!((Je=e(t).curQueueItem)!=null&&Je.media_item),icon:(et=(Ze=e(t).curQueueItem)==null?void 0:Ze.media_item)!=null&&et.favorite?"mdi-heart":"mdi-heart-outline",title:w.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:Y},null,8,["disabled","icon","title"]),w.$vuetify.display.mdAndUp?(m(),C(Dt,{key:0,class:"media-controls-item","max-height":"30px"})):V("",!0),d(Yt,{class:"media-controls-item","max-height":"45px"}),d(Nt,{class:"media-controls-item","max-height":"100px"}),d(Ot,{class:"media-controls-item","max-height":"45px"}),w.$vuetify.display.mdAndUp?(m(),C(Ut,{key:1,class:"media-controls-item","max-height":"35px"})):V("",!0),d(xt,{class:"media-controls-item","max-height":"30px"})]),I("div",oi,[d(Ve,{width:"100%","is-powered":(tt=e(t).activePlayer)==null?void 0:tt.powered,disabled:!e(t).activePlayer||!((at=e(t).activePlayer)!=null&&at.powered),"model-value":Math.round(((lt=e(t).activePlayer)==null?void 0:lt.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":g[9]||(g[9]=S=>e(t).activePlayer.group_childs.length>0?e(h).playerCommandGroupVolume(e(t).activePlayerId,S):e(h).playerCommandVolumeSet(e(t).activePlayerId,S)),"onClick:prepend":g[10]||(g[10]=S=>e(t).activePlayer.group_childs.length>0?e(h).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(h).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":g[11]||(g[11]=S=>e(t).activePlayer.group_childs.length>0?e(h).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(h).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])]),w.$vuetify.display.height>800?(m(),P("div",si,[d(Ce,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:g[12]||(g[12]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S;return[d(L,{icon:((S=e(t).activePlayer)==null?void 0:S.icon)||"mdi-speaker"},null,8,["icon"]),A(" "+k(e(t).activePlayer?e(Ae)(e(t).activePlayer):""),1)]}),_:1})])):V("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),ri=j(ni,[["__scopeId","data-v-a7a0e90c"]]),ui={key:0},di={key:1},ci={class:"d-flex justify-center",style:{width:"100%"}},mi={key:0},vi={key:1},pi={key:2,class:"line-clamp-1"},yi={key:3,class:"line-clamp-1"},fi={key:4,class:"line-clamp-1"},hi={key:5,class:"line-clamp-1"},_i={key:6},bi=q({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(l){const i=l,s=Q(()=>{var a,c;return(c=(a=t.activePlayerQueue)==null?void 0:a.current_item)==null?void 0:c.streamdetails});return(a,c)=>(m(),C(oe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:y(()=>{var o;return[I("div",{class:"media-thumb player-media-thumb",style:F(`height: ${e(W)({breakpoint:"phone"})?50:64}px; width: ${e(W)({breakpoint:"phone"})?50:64}px; `)},[d(ri,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":a.colorPalette},null,8,["show-fullscreen","color-palette"]),d(pe,{item:((o=e(t).curQueueItem)==null?void 0:o.media_item)||e(t).curQueueItem,fallback:e(Ne),style:{cursor:"pointer"},onClick:c[0]||(c[0]=r=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:y(()=>[I("div",{style:F({cursor:"pointer",color:a.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(m(),P("div",{key:0,onClick:c[1]||(c[1]=o=>e(t).showFullscreenPlayer=!0)},[A(k(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(m(),P("span",ui,"("+k(e(t).curQueueItem.media_item.version)+")",1)):V("",!0)])):e(t).curQueueItem?(m(),P("div",di,k(e(t).curQueueItem.name),1)):e(t).activePlayer?V("",!0):(m(),P("div",{key:2,onClick:c[2]||(c[2]=o=>e(t).showPlayersMenu=!0)},k(a.$t("no_player")),1))],4)]),append:y(()=>{var o,r,u;return[(o=s.value)!=null&&o.audio_format.content_type&&!e(W)({breakpoint:"phone"})&&a.showQualityDetailsBtn?(m(),C(Xa,R({key:0,disabled:!e(t).activePlayerQueue||!((r=e(t).activePlayerQueue)!=null&&r.active)||((u=e(t).activePlayerQueue)==null?void 0:u.items)==0,class:"player-track-content-type",style:a.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},i),{default:y(()=>[I("div",ci,k(s.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):V("",!0)]}),subtitle:y(()=>{var o,r,u,f,n,_,p,v,b;return[I("div",{style:F({cursor:"pointer",color:a.primaryColor}),class:"line-clamp-1",onClick:c[3]||(c[3]=$=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((o=e(t).curQueueItem.media_item)==null?void 0:o.media_type)==e(Z).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!i.showOnlyArtist?(m(),P("div",mi,k(e(mt)(e(t).curQueueItem.media_item.artists))+" • "+k(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(m(),P("div",vi,k(e(t).curQueueItem.media_item.artists[0].name),1)):(u=(r=e(t).curQueueItem)==null?void 0:r.streamdetails)!=null&&u.stream_title?(m(),P("div",pi,k((n=(f=e(t).curQueueItem)==null?void 0:f.streamdetails)==null?void 0:n.stream_title),1)):e(t).curQueueItem&&((_=e(t).curQueueItem.media_item)!=null&&_.metadata.description)?(m(),P("div",yi,k(e(t).curQueueItem.media_item.metadata.description),1)):((p=e(t).activePlayer)==null?void 0:p.active_source)!=((v=e(t).activePlayer)==null?void 0:v.player_id)?(m(),P("div",fi,k(a.$t("external_source_active",[(b=e(t).activePlayer)==null?void 0:b.active_source])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(m(),P("div",hi,k(a.$t("queue_empty")),1)):V("",!0),e(t).activePlayer?(m(),P("div",_i,k(e(Ae)(e(t).activePlayer)),1)):V("",!0)],4)]}),_:1}))}}),gi=q({__name:"SpeakerBtn",props:{color:{}},setup(l){return(i,s)=>(m(),C(G,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=a=>e(t).showPlayersMenu=!0)},{default:y(()=>{var a;return[d(L,{color:i.color?i.color:"",size:24,icon:(a=e(t).activePlayer)!=null&&a.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),wi={key:1,class:"text-caption volumecaption"},Pi={key:1},ki={class:"text-caption volumecaption"},Ci=q({__name:"VolumeControl",props:{player:{},showSyncControls:{type:Boolean},showSubPlayers:{type:Boolean},hideHeadingRow:{type:Boolean}},setup(l){const i=l,s=M([]),a=M([]),c=M(void 0),o=Q(()=>i.player.group_childs.length>0),r=function(n,_=!0){var v,b,$;const p=[];_&&n.type!=me.GROUP&&p.push(n);for(const B of n.group_childs){const z=(v=h)==null?void 0:v.players[B];z&&z.available&&!p.includes(z)&&p.push(z)}if(i.showSyncControls&&n.type==me.PLAYER)for(const B of Object.keys((b=h)==null?void 0:b.players)){const z=($=h)==null?void 0:$.players[B];z.provider===n.provider&&z.available&&(z.active_group&&z.active_group!=n.player_id||z.active_source&&z.state==ze.PLAYING&&![n.player_id,z.player_id].includes(z.active_source)||p.includes(z)||p.push(z))}return p.sort((B,z)=>B.display_name.toUpperCase()>z.display_name.toUpperCase()?1:-1),p},u=async function(n){for(const _ of n)h.players[_].powered?await h.playerCommandPower(_,!1):await h.playerCommandUnSync(_)},f=async function(n,_){const p=i.player.player_id;console.log("syncCheckBoxChange",n,_),_?(a.value.includes(n)&&(a.value=a.value.filter(v=>v!=n)),s.value.includes(n)||s.value.push(n),h.players[p].group_childs.push(n)):(s.value.includes(n)&&(s.value=s.value.filter(v=>v!=n)),a.value.includes(n)||a.value.push(n),h.players[p].group_childs=h.players[p].group_childs.filter(v=>v!=n)),c.value!=null&&clearTimeout(c.value),c.value=setTimeout(async()=>{a.value.length>0&&u(a.value).catch(async()=>{h.players[p]=await h.getPlayer(p)}).finally(()=>{a.value=[]}),s.value.length>0&&h.playerCommandSyncMany(p,s.value).catch(async()=>{h.players[p]=await h.getPlayer(p)}).finally(()=>{s.value=[]})},2e3)};return(n,_)=>(m(),C(ke,{style:{overflow:"hidden",padding:"0"},lines:"two"},{default:y(()=>[n.hideHeadingRow?V("",!0):(m(),C(oe,{key:0,class:"volumesliderrow heading",link:!1,style:F(n.player.powered?"opacity: 1":"opacity: 0.6")},{prepend:y(()=>[d(L,{size:25,icon:n.player.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:y(()=>[I("h5",null,k(e(Ae)(n.player,27)),1)]),append:y(()=>[d(G,{class:"powerbtn",variant:"icon",onClick:_[0]||(_[0]=p=>e(h).playerCommandPowerToggle(n.player.player_id))},{default:y(()=>[d(L,{size:25,icon:"mdi-power"})]),_:1})]),_:1},8,["style"])),d(oe,{class:"volumesliderrow",link:!1,style:F(n.player.powered?"opacity: 0.75":"opacity: 0.35")},{prepend:y(()=>[d(G,{icon:"",style:{height:"25px"},disabled:n.player.type==e(me).GROUP||n.player.group_childs.length>0,onClick:_[1]||(_[1]=p=>e(h).playerCommandMuteToggle(n.player.player_id))},{default:y(()=>[d(L,{size:25,icon:n.player.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:1},8,["disabled"])]),default:y(()=>[d(Ve,{color:"secondary",width:"100%","is-powered":n.player.powered,disabled:!n.player.available||!n.player.powered||!n.player.supported_features.includes(e(fe).VOLUME_SET)&&!n.player.group_childs.length,"model-value":Math.round(n.player.group_childs.length?n.player.group_volume:n.player.volume_level),"onUpdate:modelValue":_[2]||(_[2]=p=>n.player.group_childs.length>0?e(h).playerCommandGroupVolume(n.player.player_id,p):e(h).playerCommandVolumeSet(n.player.player_id,p))},null,8,["is-powered","disabled","model-value"])]),append:y(()=>[o.value&&!n.showSubPlayers?(m(),C(L,{key:0,class:"expandbtn"},{default:y(()=>_[5]||(_[5]=[A(" mdi-chevron-down ")])),_:1})):(m(),P("div",wi,k(Math.round(n.player.group_childs.length?n.player.group_volume:n.player.volume_level)),1))]),_:1},8,["style"]),n.showSubPlayers&&n.player.powered&&(n.player.group_childs.length>0||n.showSyncControls)?(m(),P("div",Pi,[d(Ue,{style:{"margin-top":"10px","margin-bottom":"15px"}}),(m(!0),P(D,null,J(r(n.player,!n.showSyncControls),p=>(m(),P("div",{key:p.player_id},[d(oe,{class:"volumesliderrow",link:!1,style:F(p.powered||n.showSyncControls?"opacity: 0.75":"opacity: 0.4"),onClick:_[3]||(_[3]=K(()=>{},["stop"]))},{prepend:y(()=>[d(L,{size:30,icon:p.icon,style:{"margin-left":"6px",opacity:"0.6"}},null,8,["icon"])]),default:y(()=>[I("h6",null,k(e(la)(p.display_name,27)),1)]),append:y(()=>[n.showSyncControls?(m(),C(ia,{key:0,ripple:!1,disabled:p.player_id==n.player.player_id,"model-value":n.player.group_childs.includes(p.player_id)||p.player_id==n.player.player_id,size:"22",class:"checkbox","onUpdate:modelValue":v=>f(p.player_id,v)},null,8,["disabled","model-value","onUpdate:modelValue"])):V("",!0)]),_:2},1032,["style"]),d(oe,{class:"volumesliderrow",disabled:!p.supported_features.includes(e(fe).VOLUME_SET),link:!1,style:F(p.powered?"opacity: 0.75":"opacity: 0.4"),onClick:_[4]||(_[4]=K(()=>{},["stop"]))},{prepend:y(()=>[d(G,{icon:"",style:{height:"25px"},onClick:v=>e(h).playerCommandMuteToggle(p.player_id)},{default:y(()=>[d(L,{size:25,icon:p.volume_muted?"mdi-volume-mute":"mdi-volume-medium"},null,8,["icon"])]),_:2},1032,["onClick"])]),default:y(()=>[d(Ve,{color:"secondary",width:"100%","is-powered":p.powered,disabled:!p.available||!p.supported_features.includes(e(fe).VOLUME_SET),"model-value":Math.round(p.volume_level),"onUpdate:modelValue":v=>e(h).playerCommandVolumeSet(p.player_id,v)},null,8,["is-powered","disabled","model-value","onUpdate:modelValue"])]),append:y(()=>[I("div",ki,k(p.volume_level),1)]),_:2},1032,["disabled","style"]),_[6]||(_[6]=I("div",{style:{height:"14px"}},null,-1))]))),128))])):V("",!0)]),_:1}))}}),Gt=j(Ci,[["__scopeId","data-v-0f3e3506"]]),Vi={key:0},$i={key:0},Ii={class:"text-caption"},Si={key:1},Qi=q({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(l){const i=l,s=M(!1);return(a,c)=>i.isVisible&&e(t).activePlayer?(m(),P("div",Vi,[d(Mt,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=o=>s.value=o),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:a.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:y(({props:o})=>{var r,u;return[e(W)("bp6")||!a.responsiveVolumeSize?(m(),P("div",$i,[d(Ve,{style:"margin-right: 0px; margin-left: 0px;",width:a.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((r=e(t).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((u=e(t).activePlayer)==null?void 0:u.volume_level)||0),"onUpdate:modelValue":c[0]||(c[0]=f=>{var n,_;return e(t).activePlayer.group_childs.length>0?e(h).playerCommandGroupVolume(((n=e(t).activePlayer)==null?void 0:n.player_id)||"",f):e(h).playerCommandVolumeSet(((_=e(t).activePlayer)==null?void 0:_.player_id)||"",f)})},{prepend:y(()=>[d(G,R({variant:"icon",size:"48",ripple:!1},{...o}),{default:y(()=>{var f,n;return[d(L,{color:i.color?a.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),I("div",Ii,k(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(m(),P("div",Si,[d(G,R({...o},{size:"48",variant:"icon"}),{default:y(()=>{var f,n;return[d(L,{color:i.color?a.color:"",icon:"mdi-volume-high"},null,8,["color"]),I("div",{class:"text-caption",style:F({color:i.color?a.color:""})},k(e(t).activePlayer.group_childs.length>0?Math.round(((f=e(t).activePlayer)==null?void 0:f.group_volume)||0):Math.round(((n=e(t).activePlayer)==null?void 0:n.volume_level)||0)),5)]}),_:2},1040)]))]}),default:y(()=>[d(Le,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:y(()=>[e(t).activePlayer?(m(),C(Gt,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"hide-heading-row":!1,style:{"margin-left":"18px"}},null,8,["player"])):V("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):V("",!0)}}),Ti=j(Qi,[["__scopeId","data-v-7022cdda"]]),Bi=q({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(l){return(i,s)=>(m(),P(D,null,[i.player&&i.player.isVisible?(m(),C(gi,{key:0,color:i.player.color},null,8,["color"])):V("",!0),i.queue&&i.queue.isVisible?(m(),C(xt,{key:1,color:i.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):V("",!0),i.volume&&i.volume.isVisible?(m(),C(Ti,{key:2,color:i.volume.color,"volume-size":i.volume.volumeSize,"responsive-volume-size":i.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):V("",!0)],64))}}),zi=["data-floating"],Mi=["data-mobile"],Ai={class:"mediacontrols-left"},qi={class:"mediacontrols-bottom-center"},Ei={class:"mediacontrols-bottom-right"},Li={key:0,class:"volume-slider"},Wi=q({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(l){_a(o=>({"2e371c1c":c.value})),vt();const{mobile:i}=gt({mobileBreakpoint:576}),s=M({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),a=new Image;a.src=Me.theme.current.value.dark?Ne:oa,a.crossOrigin="Anonymous",a.addEventListener("load",function(){s.value=sa(a)});const c=Q(()=>Me.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return ne(()=>{var o;return(o=t.curQueueItem)==null?void 0:o.queue_item_id},()=>{var o;(o=t.curQueueItem)!=null&&o.media_item?a.src=it(t.curQueueItem.media_item,st.THUMB)||"":t.curQueueItem?a.src=it(t.curQueueItem,st.THUMB)||"":a.src=""}),(o,r)=>{var u,f,n,_,p,v,b;return m(),P(D,null,[I("div",{class:"mediacontrols-bg","data-floating":o.useFloatingPlayer},null,8,zi),I("div",{class:"mediacontrols","data-mobile":e(i)},[I("div",Ai,[d(bi,{"show-quality-details-btn":!!e(W)("bp8"),"show-only-artist":!e(W)("bp7"),"color-palette":s.value,"primary-color":o.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),I("div",qi,[d(dt,{"visible-components":{repeat:{isVisible:e(W)("bp3")},shuffle:{isVisible:e(W)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(W)("bp3")},next:{isVisible:e(W)("bp3")}}},null,8,["visible-components"]),e(W)("bp6")?(m(),C(Ft,{key:0,color:o.$vuetify.theme.current.dark?s.value.lightColor||"#fff":s.value.darkColor||"#000","is-progress-bar":!1,disabled:!((u=e(t).activePlayerQueue)!=null&&u.active)||((_=(n=(f=e(t).activePlayerQueue)==null?void 0:f.current_item)==null?void 0:n.media_item)==null?void 0:_.media_type)!==e(Z).TRACK},null,8,["color","disabled"])):V("",!0)]),I("div",Ei,[I("div",null,[d(Bi,{queue:{isVisible:e(W)("bp3"),color:o.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:o.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(i),color:o.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),d(dt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(W)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:o.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Mi),e(i)?(m(),P("div",Li,[d(Ve,{width:"100%",color:"secondary","is-powered":(p=e(t).activePlayer)==null?void 0:p.powered,disabled:!e(t).activePlayer||!((v=e(t).activePlayer)!=null&&v.powered),"model-value":Math.round(((b=e(t).activePlayer)==null?void 0:b.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=$=>e(t).activePlayer.group_childs.length>0?e(h).playerCommandGroupVolume(e(t).activePlayerId,$):e(h).playerCommandVolumeSet(e(t).activePlayerId,$)),"onClick:prepend":r[1]||(r[1]=$=>e(t).activePlayer.group_childs.length>0?e(h).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume-5):e(h).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level-5)),"onClick:append":r[2]||(r[2]=$=>e(t).activePlayer.group_childs.length>0?e(h).playerCommandGroupVolume(e(t).activePlayerId,e(t).activePlayer.group_volume+5):e(h).playerCommandVolumeSet(e(t).activePlayerId,e(t).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):V("",!0)],64)}}}),Ri=j(Wi,[["__scopeId","data-v-a1797e25"]]),Hi=ee({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...wt(),..._e(),...kt(),...Bt(),...Ct(),...$e({tag:"footer"}),...Ee()},"VFooter"),Fi=te()({name:"VFooter",props:Hi(),setup(l,i){let{slots:s}=i;const a=M(),{themeClasses:c}=xe(l),{backgroundColorClasses:o,backgroundColorStyles:r}=Ge(N(l,"color")),{borderClasses:u}=Vt(l),{elevationClasses:f}=It(l),{roundedClasses:n}=St(l),_=Qe(32),{resizeRef:p}=Ma(b=>{b.length&&(_.value=b[0].target.clientHeight)}),v=Q(()=>l.height==="auto"?_.value:parseInt(l.height,10));return ba(()=>l.app,()=>{const b=zt({id:l.name,order:Q(()=>parseInt(l.order,10)),position:Q(()=>"bottom"),layoutSize:v,elementSize:Q(()=>l.height==="auto"?void 0:v.value),active:Q(()=>l.app),absolute:N(l,"absolute")});ga(()=>{a.value=b.layoutItemStyles.value})}),ae(()=>d(l.tag,{ref:p,class:["v-footer",c.value,o.value,u.value,f.value,n.value,l.class],style:[r.value,l.app?a.value:{height:Pe(l.height)},l.style]},s)),{}}}),Ui=q({__name:"Footer",setup(l){const i=Q(()=>t.navigationMenuStyle=="horizontal"),s=Q(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),a=Q(()=>i.value?s.value+5:0);return(c,o)=>(m(),P(D,null,[i.value?(m(),P("div",{key:0,class:Be(c.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:F(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(W)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):V("",!0),e(t).navigationMenuStyle=="horizontal"?(m(),C(Ql,{key:1,height:s.value},null,8,["height"])):V("",!0),d(Fi,{bottom:"",fixed:"",class:Be(`d-flex flex-column ${i.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:F(`bottom: ${a.value}px;`),elevation:"10",app:""},{default:y(()=>[d(Ri,{"use-floating-player":i.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),Di={key:0,class:"player-media-thumb"},Ni={key:1},Yi={key:2,class:"icon-thumb"},Oi={style:{"margin-bottom":"3px"}},xi={key:0,style:{"font-size":"0.85rem","font-weight":"500","white-space":"nowrap"}},Xi={key:0},Gi={key:0},ji={key:1},Ki={key:2},Ji={class:"v-list-item-subtitle",style:{"white-space":"nowrap"}},Zi={key:0},eo={key:1},to={key:2},ao={key:3},lo={key:4},io={key:5},oo={key:6},so=q({__name:"PanelviewPlayerCard",props:{player:{},showVolumeControl:{type:Boolean},showMenuButton:{type:Boolean},showSubPlayers:{type:Boolean},showSyncControls:{type:Boolean}},setup(l){const i=l,s=Q(()=>{if(i.player&&i.player.active_source in h.queues)return h.queues[i.player.active_source];if(i.player&&!i.player.active_source&&i.player.player_id in h.queues)return h.queues[i.player.player_id]}),a=Q(()=>{if(s.value&&s.value.active)return s.value.current_item}),c=function(o){ce.emit("contextmenu",{items:Xt(i.player,s.value),posX:o.clientX,posY:o.clientY})};return(o,r)=>(m(),C(Le,{flat:"",class:Be(["panel-item",{"panel-item-selected":o.player.player_id==e(t).activePlayerId,"panel-item-idle":o.player.state==e(ze).IDLE,"panel-item-off":!o.player.powered}]),ripple:!1},{default:y(()=>[d(oe,{class:"panel-item-details",flat:"",ripple:!1},{prepend:y(()=>{var u,f,n,_;return[o.player.powered?(m(),P("div",Di,[(u=a.value)!=null&&u.media_item||(f=a.value)!=null&&f.image?(m(),C(pe,{key:0,class:"media-thumb",size:"55",item:((n=a.value)==null?void 0:n.media_item)||a.value,fallback:e(Ne)},null,8,["item","fallback"])):(_=o.player.current_media)!=null&&_.image_url?(m(),P("div",Ni,[d(Aa,{class:"media-thumb",size:"55",src:o.player.current_media.image_url},null,8,["src"])])):(m(),P("div",Yi,[d(L,{size:"35",icon:o.player.type==e(me).PLAYER&&o.player.group_childs.length?"mdi-speaker-multiple":o.player.icon,style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))])):V("",!0)]}),title:y(()=>[I("div",Oi,k(e(Ae)(o.player,27)),1)]),subtitle:y(()=>{var u,f,n,_,p,v,b;return[o.player.powered?(m(),P("div",xi,[(u=a.value)!=null&&u.media_item?(m(),P("div",Xi,[A(k((f=a.value)==null?void 0:f.media_item.name)+" ",1),"version"in((n=a.value)==null?void 0:n.media_item)&&((_=a.value)!=null&&_.media_item.version)?(m(),P("span",Gi,"("+k((p=a.value)==null?void 0:p.media_item.version)+")",1)):V("",!0)])):a.value?(m(),P("div",ji,k((v=a.value)==null?void 0:v.name),1)):(b=o.player.current_media)!=null&&b.title?(m(),P("div",Ki,k(o.player.current_media.title),1)):V("",!0)])):V("",!0)]}),default:y(()=>{var u,f,n,_,p,v,b,$,B,z,le,Y,O,w,g,T,E,x,X;return[I("div",Ji,[o.player.powered?(u=a.value)!=null&&u.media_item&&((n=(f=a.value)==null?void 0:f.media_item)==null?void 0:n.media_type)==e(Z).TRACK&&"album"in((_=a.value)==null?void 0:_.media_item)&&((p=a.value)!=null&&p.media_item.album)?(m(),P("div",eo,k(e(mt)((v=a.value)==null?void 0:v.media_item.artists))+" • "+k((b=a.value)==null?void 0:b.media_item.album.name),1)):($=a.value)!=null&&$.media_item&&"artists"in((B=a.value)==null?void 0:B.media_item)&&((z=a.value)==null?void 0:z.media_item.artists.length)>0?(m(),P("div",to,k((le=a.value)==null?void 0:le.media_item.artists[0].name),1)):(O=(Y=a.value)==null?void 0:Y.streamdetails)!=null&&O.stream_title?(m(),P("div",ao,k((g=(w=a.value)==null?void 0:w.streamdetails)==null?void 0:g.stream_title),1)):(E=(T=a.value)==null?void 0:T.media_item)!=null&&E.metadata.description?(m(),P("div",lo,k((x=a.value)==null?void 0:x.media_item.metadata.description),1)):o.player.active_source!=o.player.player_id?(m(),P("div",io,k(o.$t("external_source_active",[o.player.active_source])),1)):((X=s.value)==null?void 0:X.items)==0?(m(),P("div",oo,k(o.$t("queue_empty")),1)):V("",!0):(m(),P("div",Zi,k(o.$t("off")),1))])]}),append:y(()=>{var u;return[o.player.powered?o.player.state==e(ze).PLAYING?(m(),C(G,{key:1,class:"player-command-btn",onClick:r[1]||(r[1]=K(f=>e(h).playerCommandPlayPause(o.player.player_id),["stop"]))},{default:y(()=>[d(L,{size:e(W)({breakpoint:"phone"})?"30":"32"},{default:y(()=>r[5]||(r[5]=[A("mdi-pause-circle-outline")])),_:1},8,["size"])]),_:1})):(m(),C(G,{key:2,variant:"icon",class:"player-command-btn",disabled:!((u=s.value)!=null&&u.items)&&!o.player.current_media,onClick:r[2]||(r[2]=K(f=>e(h).playerCommandPlay(o.player.player_id),["stop"]))},{default:y(()=>[d(L,{size:e(W)({breakpoint:"phone"})?"30":"32"},{default:y(()=>r[6]||(r[6]=[A("mdi-play-circle-outline")])),_:1},8,["size"])]),_:1},8,["disabled"])):(m(),C(G,{key:0,variant:"icon",class:"player-command-btn",onClick:r[0]||(r[0]=K(f=>e(h).playerCommandPowerToggle(o.player.player_id),["stop"]))},{default:y(()=>[d(L,{size:e(W)({breakpoint:"phone"})?"30":"32"},{default:y(()=>r[4]||(r[4]=[A("mdi-power")])),_:1},8,["size"])]),_:1})),o.showMenuButton?(m(),C(G,{key:3,variant:"icon",class:"player-command-btn",style:{"margin-right":"-5px"},onClick:K(c,["stop"])},{default:y(()=>[d(L,{size:e(W)({breakpoint:"phone"})?"30":"32"},{default:y(()=>r[7]||(r[7]=[A("mdi-dots-vertical")])),_:1},8,["size"])]),_:1})):V("",!0)]}),_:1}),o.showVolumeControl&&o.player.powered?(m(),C(Gt,{key:0,player:o.player,"show-sync-controls":o.showSyncControls,"hide-heading-row":!0,"show-sub-players":o.showSubPlayers,onClick:r[3]||(r[3]=K(()=>{},["stop"]))},null,8,["player","show-sync-controls","show-sub-players"])):V("",!0)]),_:1},8,["class"]))}}),ct=j(so,[["__scopeId","data-v-a115f97b"]]),no=q({__name:"PlayerSelect",setup(l){const i=M(!1),s=Q(()=>Object.values(h.players).filter(u=>c(u,!1,!1,!1)).sort((u,f)=>{var n;return u.display_name.toUpperCase()>((n=f.display_name)==null?void 0:n.toUpperCase())?1:-1}).sort((u,f)=>Number(f.powered)-Number(u.powered)));ne(()=>t.activePlayerId,u=>{u&&localStorage.setItem("mass.LastPlayerId",u)}),ne(()=>h.players,u=>{u&&!t.activePlayer&&o()},{deep:!0}),ne(()=>h.state,u=>{u.value!=wa.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function a(u,f=!1){t.activePlayerId==u.player_id?i.value=!i.value:(i.value=!1,t.activePlayerId=u.player_id),f&&(t.showPlayersMenu=!1)}qe(()=>{o()});const c=function(u,f=!0,n=!1,_=!1){return!(!u.enabled||!_&&u.hidden||!f&&!u.available||u.synced_to&&!n||!n&&u.type==me.PLAYER&&u.active_group)},o=function(){if(t.activePlayer&&c(t.activePlayer,!1,!1,!1))return;const u=r();u&&(t.activePlayerId=u.player_id)},r=function(){const u=localStorage.getItem("mass.LastPlayerId");if(u&&u in h.players&&c(h.players[u],!1,!1,!1))return h.players[u]};return(u,f)=>(m(),P(D,null,[d(At,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[0]||(f[0]=n=>e(t).showPlayersMenu=n)},null,8,["modelValue"]),d(Jt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[2]||(f[2]=n=>e(t).showPlayersMenu=n),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:500,style:{"z-index":"99999"},"z-index":"99999"},{default:y(()=>[I("div",null,[d(Se,{class:"title"},{default:y(()=>[I("b",null,k(u.$t("players")),1)]),_:1}),d(G,{variant:"icon",style:{float:"right",top:"-40px",height:"0"},onClick:f[1]||(f[1]=n=>e(t).showPlayersMenu=!1)},{default:y(()=>[d(L,{size:"30"},{default:y(()=>f[3]||(f[3]=[A("mdi-window-close")])),_:1})]),_:1}),d(ke,{flat:"",style:{margin:"5px 5px"}},{default:y(()=>[(m(!0),P(D,null,J(s.value.filter(n=>n.powered),n=>(m(),C(ct,{id:n.player_id,key:n.player_id,player:n,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":i.value&&n.player_id==e(t).activePlayerId,"show-sync-controls":n.supported_features.includes(e(fe).SYNC),onClick:_=>a(n)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),d(Ga,{variant:"accordion",flat:"",class:"expansion"},{default:y(()=>[d(ja,{title:u.$t("powered_off_players"),style:{padding:"0"}},{default:y(()=>[d(Ka,{style:{padding:"0"}},{default:y(()=>[d(ke,{flat:""},{default:y(()=>[(m(!0),P(D,null,J(s.value.filter(n=>!n.powered),n=>(m(),C(ct,{id:n.player_id,key:n.player_id,player:n,"show-volume-control":!1,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,onClick:_=>a(n)},null,8,["id","player","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})])]),_:1},8,["modelValue"])],64))}}),ro=j(no,[["__scopeId","data-v-179a8acb"]]);function uo(l={}){const{immediate:i=!1,onNeedRefresh:s,onOfflineReady:a,onRegistered:c,onRegisteredSW:o,onRegisterError:r}=l;let u,f,n;const _=async(v=!0)=>{await f,await(n==null?void 0:n())};async function p(){if("serviceWorker"in navigator){if(u=await Pa(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-D5gOYdM7.js");return{Workbox:v}},[],import.meta.url).then(({Workbox:v})=>new v("./sw.js",{scope:"./",type:"classic"})).catch(v=>{r==null||r(v)}),!u)return;n=async()=>{await(u==null?void 0:u.messageSkipWaiting())};{let v=!1;const b=()=>{v=!0,u==null||u.addEventListener("controlling",$=>{$.isUpdate&&window.location.reload()}),s==null||s()};u.addEventListener("installed",$=>{typeof $.isUpdate>"u"?typeof $.isExternal<"u"?$.isExternal?b():!v&&(a==null||a()):$.isExternal?window.location.reload():!v&&(a==null||a()):$.isUpdate||a==null||a()}),u.addEventListener("waiting",b),u.addEventListener("externalwaiting",b)}u.register({immediate:i}).then(v=>{o?o("./sw.js",v):c==null||c(v)}).catch(v=>{r==null||r(v)})}}return f=p(),_}function co(l={}){const{immediate:i=!0,onNeedRefresh:s,onOfflineReady:a,onRegistered:c,onRegisteredSW:o,onRegisterError:r}=l,u=M(!1),f=M(!1);return{updateServiceWorker:uo({immediate:i,onNeedRefresh(){u.value=!0,s==null||s()},onOfflineReady(){f.value=!0,a==null||a()},onRegistered:c,onRegisteredSW:o,onRegisterError:r}),offlineReady:f,needRefresh:u}}const mo={key:0,class:"pwa-toast",role:"alert"},vo={class:"message"},po={key:0},yo={key:1},fo=q({__name:"ReloadPrompt",setup(l){const{offlineReady:i,needRefresh:s,updateServiceWorker:a}=co(),c=async()=>{i.value=!1,s.value=!1};return(o,r)=>e(i)||e(s)?(m(),P("div",mo,[I("div",vo,[e(i)?(m(),P("span",po," App ready to work offline ")):(m(),P("span",yo," New content available, click on reload button to update. "))]),e(s)?(m(),P("button",{key:0,onClick:r[0]||(r[0]=u=>e(a)())},"Reload")):V("",!0),I("button",{onClick:c},"Close")])):V("",!0)}}),ho=ee({..._e(),...Ra({fullHeight:!0}),...Ee()},"VApp"),_o=te()({name:"VApp",props:ho(),setup(l,i){let{slots:s}=i;const a=xe(l),{layoutClasses:c,getLayoutItem:o,items:r,layoutRef:u}=Ha(l),{rtlClasses:f}=ht();return ae(()=>{var n;return d("div",{ref:u,class:["v-application",a.themeClasses.value,c.value,f.value,l.class],style:[l.style]},[d("div",{class:"v-application__wrap"},[(n=s.default)==null?void 0:n.call(s)])])}),{getLayoutItem:o,items:r,theme:a}}}),bo=q({__name:"Default",setup(l){return(i,s)=>(m(),P(D,null,[e(t).connected?(m(),C(_o,{key:0},{default:y(()=>[d(ro),d(ul),d(Ui)]),_:1})):(m(),C(At,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:y(()=>[I("div",null,[d(qa,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(m(),C(fo,{key:2})):V("",!0)],64))}}),Ho=j(bo,[["__scopeId","data-v-b295b190"]]);export{Ho as default};

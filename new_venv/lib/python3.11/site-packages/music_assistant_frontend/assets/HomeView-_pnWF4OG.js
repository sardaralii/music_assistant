import{C as V}from"./Container-D0GZf7eO.js";import{d as f,o as A,l as h,c as o,e as _,w as l,Y as L,u as m,V as M,h as u,f as d,g as k,t as v,_ as $,F as C,i as R,M as w,j as S,U as g,s as r,b as i,r as P,af as B,ag as T,K as F,ah as H}from"./index-CQHe9KB5.js";import{p as D,k as E,l as b}from"./VCheckbox-_eVssUuR.js";import{P as N}from"./PanelviewItemCompact-C9xC4OzX.js";import{w as O,z as U}from"./VListItem-932LEcae.js";import{V as W,T as j}from"./Toolbar-Bxz1a-Vc.js";import{V as z}from"./VToolbar-AihbUtg2.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css              */import"./eventbus-CxBHXMjo.js";import"./VCheckboxBtn-WpBm-DQx.js";import"./VList-SeV0eskX.js";import"./VCardText-BC98CPwQ.js";import"./VCard-BBArKN8n.js";import"./VMenu-C_g4AWFG.js";const K=f({__name:"Carousel",setup(y){return A(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(s,c)=>{const t=h("swiper");return o(),_(t,{"slides-per-view":m(D)(s.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!m(M)({breakpoint:"mobile"})},{default:l(()=>[L(s.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),q={key:0,class:"widget-row"},Y={class:"mr-3"},G={key:1,class:"mr-3"},J=f({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(y){const s=function(e,a,p){const n=Array.isArray(e)?e:[e];E(n,void 0,a,p)},c=function(e,a,p){if(!b(e)){s(e,a,p);return}e.media_type==w.FOLDER?g.push({name:"browse",query:{path:e.path}}):g.push({name:e.media_type,params:{itemId:e.item_id,provider:e.provider}})},t=function(e,a,p){if(!b(e)){s(e,a,p);return}if(!r.activePlayerId){r.showPlayersMenu=!0;return}i.playMedia(e.uri,void 0)};return(e,a)=>{const p=h("swiper-slide");return e.widgetRow.items.length?(o(),u("div",q,[d(z,{class:"header",color:"transparent",style:$(e.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:a[0]||(a[0]=n=>e.widgetRow.path?e.$router.push(e.widgetRow.path):"")},{prepend:l(()=>[d(O,{icon:e.widgetRow.icon},null,8,["icon"])]),title:l(()=>[e.widgetRow.count?(o(),_(W,{key:0,inline:"",color:"grey",content:e.widgetRow.count},{default:l(()=>[k("span",Y,v(e.$t(e.widgetRow.label)),1)]),_:1},8,["content"])):(o(),u("span",G,v(e.$t(e.widgetRow.label)),1))]),_:1},8,["style"]),d(K,null,{default:l(()=>[(o(!0),u(C,null,R(e.widgetRow.items,n=>(o(),_(p,{key:n.uri},{default:l(()=>[d(N,{item:n,"permanent-overlay":![m(w).ALBUM,m(w).TRACK,m(w).RADIO].includes(n.media_type),onMenu:s,onClick:c,onPlay:t},null,8,["item","permanent-overlay"])]),_:2},1024))),128))]),_:1})])):S("",!0)}}}),Q=I(J,[["__scopeId","data-v-d4c433ce"]]),X=f({__name:"HomeWidgetRows",async setup(y){let s,c;const t=P({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}}),e=async function(){t.value.recently_played.items=await i.getRecentlyPlayedItems(10),t.value.artists.items=await i.getLibraryArtists(void 0,void 0,20,void 0,"random"),t.value.artists.count=r.libraryArtistsCount,t.value.albums.items=await i.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.albums.count=r.libraryAlbumsCount,t.value.playlists.items=await i.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.playlists.count=r.libraryPlaylistsCount,t.value.radios.items=await i.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.radios.count=r.libraryRadiosCount,t.value.tracks.items=await i.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added_desc"),t.value.tracks.count=r.libraryTracksCount};return[s,c]=B(()=>e()),await s,c(),T(()=>{e()}),(a,p)=>(o(!0),u(C,null,R(t.value,n=>(o(),u("div",{key:n.label},[d(Q,{"widget-row":n},null,8,["widget-row"])]))),128))}}),Z=f({__name:"HomeView",props:{player:{}},setup(y){const s=y,c=P(localStorage.getItem("frontend.settings.hide_settings")=="true"),t=new URLSearchParams(window.location.search);return console.log(t.toString()),F(()=>s.player,e=>{if(console.error("props.player",e),!(!e||e=="false")){if(typeof e=="string"){if(e in i.players)r.activePlayerId=i.players[e].player_id;else for(const a of Object.values(i.players))if(a.display_name.toLowerCase()===e.toLowerCase()){r.activePlayerId=a.player_id;break}}r.showFullscreenPlayer=!0}},{immediate:!0}),(e,a)=>(o(),u("div",null,[d(j,{title:"Music Assistant","show-loading":!0,"menu-items":c.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{e.$router.push({path:"settings"})}}]},null,8,["menu-items"]),d(V,{variant:"panel"},{default:l(()=>[(o(),_(H,null,{fallback:l(()=>[d(U,{indeterminate:""})]),default:l(()=>[k("div",null,[d(X)])]),_:1}))]),_:1})]))}}),ye=I(Z,[["__scopeId","data-v-efe9c45c"]]);export{ye as default};
